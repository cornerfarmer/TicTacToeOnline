var Neuron = synaptic.Neuron,
    Layer = synaptic.Layer,
    Network = synaptic.Network,
    Trainer = synaptic.Trainer,
    Architect = synaptic.Architect;
var c;
var ctx;
var width;
var height;
var fields = [[0, 0, 0], [0, 0, 0], [0, 0, 0]];
var currentPlayer = 1;
var gameRunning = false;
var invalidMove = false;
var aiScore = 0;
var humanScore = 0;
var lastBeginner = -1;
var neuralNetwork;
var aiDelay = 400;

jQuery(document).ready(function () {
    var json = '{"neurons":[{"bias":0.00000000000000,"layer":"input","squash":"HLIM"},{"bias":0.00000000000000,"layer":"input","squash":"HLIM"},{"bias":0.00000000000000,"layer":"input","squash":"HLIM"},{"bias":0.00000000000000,"layer":"input","squash":"HLIM"},{"bias":0.00000000000000,"layer":"input","squash":"HLIM"},{"bias":0.00000000000000,"layer":"input","squash":"HLIM"},{"bias":0.00000000000000,"layer":"input","squash":"HLIM"},{"bias":0.00000000000000,"layer":"input","squash":"HLIM"},{"bias":0.00000000000000,"layer":"input","squash":"HLIM"},{"bias":0.00000000000000,"layer":"input","squash":"HLIM"},{"bias":0.00000000000000,"layer":"input","squash":"HLIM"},{"bias":0.00000000000000,"layer":"input","squash":"HLIM"},{"bias":0.00000000000000,"layer":"input","squash":"HLIM"},{"bias":0.00000000000000,"layer":"input","squash":"HLIM"},{"bias":0.00000000000000,"layer":"input","squash":"HLIM"},{"bias":0.00000000000000,"layer":"input","squash":"HLIM"},{"bias":0.00000000000000,"layer":"input","squash":"HLIM"},{"bias":0.00000000000000,"layer":"input","squash":"HLIM"},{"bias":-255.19899930020230,"layer":"0","squash":"HLIM"},{"bias":-37.53022919122016,"layer":"0","squash":"HLIM"},{"bias":-147.43151984329501,"layer":"0","squash":"HLIM"},{"bias":113.64046522512302,"layer":"0","squash":"HLIM"},{"bias":-105.27760759921593,"layer":"0","squash":"HLIM"},{"bias":-110.54474082543445,"layer":"0","squash":"HLIM"},{"bias":-112.61946773193452,"layer":"0","squash":"HLIM"},{"bias":-96.23152423353159,"layer":"0","squash":"HLIM"},{"bias":33.25917348720427,"layer":"0","squash":"HLIM"},{"bias":-155.47952209858715,"layer":"0","squash":"HLIM"},{"bias":-38.23124640244629,"layer":"1","squash":"HLIM"},{"bias":157.34930756416094,"layer":"1","squash":"HLIM"},{"bias":-65.30428354754145,"layer":"1","squash":"HLIM"},{"bias":-227.03192350671165,"layer":"1","squash":"HLIM"},{"bias":-144.04403239393451,"layer":"1","squash":"HLIM"},{"bias":-40.31213992498483,"layer":"1","squash":"HLIM"},{"bias":46.85869513151608,"layer":"1","squash":"HLIM"},{"bias":105.80604857406433,"layer":"1","squash":"HLIM"},{"bias":-120.36967236975578,"layer":"1","squash":"HLIM"},{"bias":-229.91781729174602,"layer":"1","squash":"HLIM"},{"bias":-155.90950960756106,"layer":"output","squash":"HLIM"},{"bias":-81.53180705424410,"layer":"output","squash":"HLIM"},{"bias":-120.27813278553916,"layer":"output","squash":"HLIM"},{"bias":-51.93686071391342,"layer":"output","squash":"HLIM"},{"bias":48.46540852157080,"layer":"output","squash":"HLIM"},{"bias":-165.63279301099146,"layer":"output","squash":"HLIM"},{"bias":-20.96844825408438,"layer":"output","squash":"HLIM"},{"bias":-46.28252900624761,"layer":"output","squash":"HLIM"},{"bias":244.52487840353348,"layer":"output","squash":"HLIM"}],"connections":[{"from":0,"to":18,"weight":-103.55514252773837},{"from":0,"to":19,"weight":14.99397768215587},{"from":0,"to":20,"weight":24.12672795124107},{"from":0,"to":21,"weight":-60.32360024676804},{"from":0,"to":22,"weight":0.88297521330500},{"from":0,"to":23,"weight":-85.67122021045871},{"from":0,"to":24,"weight":-150.96778410063385},{"from":0,"to":25,"weight":-102.46465422208716},{"from":0,"to":26,"weight":104.37632915182016},{"from":0,"to":27,"weight":32.07865267463885},{"from":0,"to":28,"weight":-116.57908739983327},{"from":0,"to":29,"weight":-119.39235937842437},{"from":0,"to":30,"weight":-82.40820080807764},{"from":0,"to":31,"weight":30.61053228415427},{"from":0,"to":32,"weight":98.54887501297495},{"from":0,"to":33,"weight":-16.92666534282740},{"from":0,"to":34,"weight":-26.90997602550316},{"from":0,"to":35,"weight":27.66502486634700},{"from":0,"to":36,"weight":-157.56321202516952},{"from":0,"to":37,"weight":-145.90684649477291},{"from":0,"to":38,"weight":-443.79339099767742},{"from":0,"to":39,"weight":1.74565524940989},{"from":0,"to":40,"weight":-14.33662657978840},{"from":0,"to":41,"weight":11.64083566507954},{"from":0,"to":42,"weight":-27.54994247837161},{"from":0,"to":43,"weight":74.21336305983652},{"from":0,"to":44,"weight":-85.01721091527085},{"from":0,"to":45,"weight":-1.06016314761558},{"from":0,"to":46,"weight":118.04544093435965},{"from":1,"to":18,"weight":-117.16359595413363},{"from":1,"to":19,"weight":-104.01110678088520},{"from":1,"to":20,"weight":74.09774249712618},{"from":1,"to":21,"weight":-83.95099477786862},{"from":1,"to":22,"weight":-112.51517806815184},{"from":1,"to":23,"weight":226.91399215146618},{"from":1,"to":24,"weight":88.69561496730407},{"from":1,"to":25,"weight":-222.96236468964901},{"from":1,"to":26,"weight":22.53819847385068},{"from":1,"to":27,"weight":-64.98437127390969},{"from":1,"to":28,"weight":34.23923521055353},{"from":1,"to":29,"weight":295.68396975233668},{"from":1,"to":30,"weight":-148.28153695538467},{"from":1,"to":31,"weight":79.10102302592347},{"from":1,"to":32,"weight":-33.81687994243449},{"from":1,"to":33,"weight":32.16533027564002},{"from":1,"to":34,"weight":-7.00491380462192},{"from":1,"to":35,"weight":55.57599964835679},{"from":1,"to":36,"weight":-121.58772493126207},{"from":1,"to":37,"weight":-66.88621969625862},{"from":1,"to":38,"weight":-514.03418756130975},{"from":1,"to":39,"weight":48.47158553214864},{"from":1,"to":40,"weight":58.84893738569747},{"from":1,"to":41,"weight":-0.27239805525081},{"from":1,"to":42,"weight":-9.23499879810077},{"from":1,"to":43,"weight":-108.94359831848365},{"from":1,"to":44,"weight":-92.74727701839444},{"from":1,"to":45,"weight":-54.36097654855326},{"from":1,"to":46,"weight":23.25198628047816},{"from":2,"to":18,"weight":20.56180751220861},{"from":2,"to":19,"weight":155.32228271292684},{"from":2,"to":20,"weight":110.15216637407275},{"from":2,"to":21,"weight":-85.81541114565957},{"from":2,"to":22,"weight":-109.16873197485000},{"from":2,"to":23,"weight":43.07696470405353},{"from":2,"to":24,"weight":7.71638768207109},{"from":2,"to":25,"weight":-106.07563455106443},{"from":2,"to":26,"weight":-122.49137904200649},{"from":2,"to":27,"weight":-166.95879418201019},{"from":2,"to":28,"weight":27.68734625694522},{"from":2,"to":29,"weight":8.55627588423920},{"from":2,"to":30,"weight":-85.04357503318073},{"from":2,"to":31,"weight":58.61073481687497},{"from":2,"to":32,"weight":110.51982966504386},{"from":2,"to":33,"weight":-6.16205780556392},{"from":2,"to":34,"weight":91.55522216347214},{"from":2,"to":35,"weight":-36.17373746461696},{"from":2,"to":36,"weight":23.36915132568960},{"from":2,"to":37,"weight":-64.82110699127877},{"from":2,"to":38,"weight":96.99946001444631},{"from":2,"to":39,"weight":-528.40031479342269},{"from":2,"to":40,"weight":60.86584385666518},{"from":2,"to":41,"weight":-17.95907034981750},{"from":2,"to":42,"weight":44.47372249086296},{"from":2,"to":43,"weight":14.70590603165412},{"from":2,"to":44,"weight":0.66448144084066},{"from":2,"to":45,"weight":92.64356090639001},{"from":2,"to":46,"weight":239.21309853811084},{"from":3,"to":18,"weight":87.73001777031141},{"from":3,"to":19,"weight":17.15889916049828},{"from":3,"to":20,"weight":34.12375285459509},{"from":3,"to":21,"weight":-88.87428237632059},{"from":3,"to":22,"weight":190.26024191735877},{"from":3,"to":23,"weight":67.65410301304311},{"from":3,"to":24,"weight":-286.32562726753395},{"from":3,"to":25,"weight":-206.50701260977561},{"from":3,"to":26,"weight":-263.15685769567540},{"from":3,"to":27,"weight":122.42598442078102},{"from":3,"to":28,"weight":48.09645914311473},{"from":3,"to":29,"weight":37.80604100233686},{"from":3,"to":30,"weight":91.59605937214167},{"from":3,"to":31,"weight":-128.67243925008626},{"from":3,"to":32,"weight":-130.21062183677017},{"from":3,"to":33,"weight":-106.18676408819729},{"from":3,"to":34,"weight":1.50449091241260},{"from":3,"to":35,"weight":-10.07829108698286},{"from":3,"to":36,"weight":-97.74386785338778},{"from":3,"to":37,"weight":-116.41677820158235},{"from":3,"to":38,"weight":-3.16413574114406},{"from":3,"to":39,"weight":-338.01039461245557},{"from":3,"to":40,"weight":3.79573247917451},{"from":3,"to":41,"weight":-104.10539715819046},{"from":3,"to":42,"weight":55.62056391661780},{"from":3,"to":43,"weight":-153.96698058001678},{"from":3,"to":44,"weight":-38.97732781245326},{"from":3,"to":45,"weight":98.05871300962775},{"from":3,"to":46,"weight":219.44029695207223},{"from":4,"to":18,"weight":-28.55365588606150},{"from":4,"to":19,"weight":188.80910729198871},{"from":4,"to":20,"weight":262.61981568854543},{"from":4,"to":21,"weight":32.96087633515300},{"from":4,"to":22,"weight":-17.90053283241790},{"from":4,"to":23,"weight":-103.21245908124507},{"from":4,"to":24,"weight":51.65764351622309},{"from":4,"to":25,"weight":28.65158370381901},{"from":4,"to":26,"weight":3.90277098942838},{"from":4,"to":27,"weight":160.04512714669693},{"from":4,"to":28,"weight":-91.37583462707347},{"from":4,"to":29,"weight":-69.97233814389276},{"from":4,"to":30,"weight":-47.55677097813143},{"from":4,"to":31,"weight":10.73543248407285},{"from":4,"to":32,"weight":36.89556759804843},{"from":4,"to":33,"weight":33.20093404062066},{"from":4,"to":34,"weight":-45.70050307931919},{"from":4,"to":35,"weight":30.75063308038737},{"from":4,"to":36,"weight":274.70887354036279},{"from":4,"to":37,"weight":-107.13437665403964},{"from":4,"to":38,"weight":-8.50485608902868},{"from":4,"to":39,"weight":37.01598137291131},{"from":4,"to":40,"weight":-419.71874037425675},{"from":4,"to":41,"weight":25.70948689133374},{"from":4,"to":42,"weight":64.43917830730248},{"from":4,"to":43,"weight":125.36253068731520},{"from":4,"to":44,"weight":-9.43044016135842},{"from":4,"to":45,"weight":-7.43634859394568},{"from":4,"to":46,"weight":-80.65986406553947},{"from":5,"to":18,"weight":-39.99527947272123},{"from":5,"to":19,"weight":-95.65449296781748},{"from":5,"to":20,"weight":53.91122397586827},{"from":5,"to":21,"weight":-79.43351011065357},{"from":5,"to":22,"weight":9.34688041463902},{"from":5,"to":23,"weight":-7.42685498668061},{"from":5,"to":24,"weight":65.03714022102994},{"from":5,"to":25,"weight":-33.58951577106164},{"from":5,"to":26,"weight":87.54803937578384},{"from":5,"to":27,"weight":-56.41120089027358},{"from":5,"to":28,"weight":-31.43667333989652},{"from":5,"to":29,"weight":37.61443157188079},{"from":5,"to":30,"weight":151.28022378665401},{"from":5,"to":31,"weight":97.15501147002885},{"from":5,"to":32,"weight":-60.53894652947437},{"from":5,"to":33,"weight":-176.52075764826654},{"from":5,"to":34,"weight":35.06527607309475},{"from":5,"to":35,"weight":-31.45025054464885},{"from":5,"to":36,"weight":-191.70839417139467},{"from":5,"to":37,"weight":85.32090154646861},{"from":5,"to":38,"weight":18.33368615278344},{"from":5,"to":39,"weight":120.12829536807166},{"from":5,"to":40,"weight":-452.72725955355702},{"from":5,"to":41,"weight":-26.36612701636359},{"from":5,"to":42,"weight":34.98850752579163},{"from":5,"to":43,"weight":151.63483075385261},{"from":5,"to":44,"weight":-32.50550800850439},{"from":5,"to":45,"weight":-25.00504002934845},{"from":5,"to":46,"weight":49.95001918723494},{"from":6,"to":18,"weight":-92.58316120706915},{"from":6,"to":19,"weight":64.82122836842939},{"from":6,"to":20,"weight":-5.02604267171581},{"from":6,"to":21,"weight":79.05485137287047},{"from":6,"to":22,"weight":54.28222122331844},{"from":6,"to":23,"weight":-92.47475275599342},{"from":6,"to":24,"weight":-25.76487564700272},{"from":6,"to":25,"weight":68.26530064136250},{"from":6,"to":26,"weight":123.22207633105202},{"from":6,"to":27,"weight":-245.32573189782173},{"from":6,"to":28,"weight":65.84214610627612},{"from":6,"to":29,"weight":-29.13959956423847},{"from":6,"to":30,"weight":4.80660181522827},{"from":6,"to":31,"weight":107.48325755249260},{"from":6,"to":32,"weight":22.32340141544904},{"from":6,"to":33,"weight":-32.21385792367103},{"from":6,"to":34,"weight":87.28134289548686},{"from":6,"to":35,"weight":74.16123226091182},{"from":6,"to":36,"weight":31.55285045374369},{"from":6,"to":37,"weight":-63.88285542797665},{"from":6,"to":38,"weight":109.98970970506224},{"from":6,"to":39,"weight":93.55052518916489},{"from":6,"to":40,"weight":105.05068993624623},{"from":6,"to":41,"weight":-396.68477376855560},{"from":6,"to":42,"weight":-131.84034463343860},{"from":6,"to":43,"weight":256.37478919732985},{"from":6,"to":44,"weight":97.16467492755177},{"from":6,"to":45,"weight":56.40149294247514},{"from":6,"to":46,"weight":243.38533411524497},{"from":7,"to":18,"weight":108.32023633428881},{"from":7,"to":19,"weight":29.49726348995145},{"from":7,"to":20,"weight":93.90207294267526},{"from":7,"to":21,"weight":36.50260911086996},{"from":7,"to":22,"weight":76.40013965186674},{"from":7,"to":23,"weight":34.50223295675425},{"from":7,"to":24,"weight":9.38116631479790},{"from":7,"to":25,"weight":167.47353172329522},{"from":7,"to":26,"weight":10.12547164669494},{"from":7,"to":27,"weight":-135.02462301685878},{"from":7,"to":28,"weight":-152.08285451114855},{"from":7,"to":29,"weight":-87.02782076012566},{"from":7,"to":30,"weight":72.71286249652411},{"from":7,"to":31,"weight":84.34694236166561},{"from":7,"to":32,"weight":78.33213201985647},{"from":7,"to":33,"weight":7.73189325549405},{"from":7,"to":34,"weight":-129.15904601749477},{"from":7,"to":35,"weight":-183.80251501159475},{"from":7,"to":36,"weight":-24.17688059511995},{"from":7,"to":37,"weight":28.80834472522134},{"from":7,"to":38,"weight":-6.01781744960351},{"from":7,"to":39,"weight":-41.18986643002701},{"from":7,"to":40,"weight":-15.56069918144485},{"from":7,"to":41,"weight":-442.96066453999191},{"from":7,"to":42,"weight":6.89836973510525},{"from":7,"to":43,"weight":137.92767167979252},{"from":7,"to":44,"weight":75.21409939740966},{"from":7,"to":45,"weight":57.65360378725952},{"from":7,"to":46,"weight":-57.93062868836934},{"from":8,"to":18,"weight":-186.08224944503627},{"from":8,"to":19,"weight":53.17799847966558},{"from":8,"to":20,"weight":-128.48443130694258},{"from":8,"to":21,"weight":-54.34909867836100},{"from":8,"to":22,"weight":-23.82975617854662},{"from":8,"to":23,"weight":-12.98529527004957},{"from":8,"to":24,"weight":152.19516587692868},{"from":8,"to":25,"weight":-164.25370144460635},{"from":8,"to":26,"weight":10.38646268598783},{"from":8,"to":27,"weight":-122.46102601032686},{"from":8,"to":28,"weight":-114.05530994460545},{"from":8,"to":29,"weight":-55.03092047183750},{"from":8,"to":30,"weight":62.23253393260127},{"from":8,"to":31,"weight":32.40524888255602},{"from":8,"to":32,"weight":104.80286279486111},{"from":8,"to":33,"weight":10.97235368576014},{"from":8,"to":34,"weight":-30.40939005955331},{"from":8,"to":35,"weight":-295.69369001457784},{"from":8,"to":36,"weight":58.86650557736076},{"from":8,"to":37,"weight":102.78331865060792},{"from":8,"to":38,"weight":63.79085789194978},{"from":8,"to":39,"weight":0.32840542154253},{"from":8,"to":40,"weight":123.63948338989144},{"from":8,"to":41,"weight":40.80188037627936},{"from":8,"to":42,"weight":-547.56774909536318},{"from":8,"to":43,"weight":-33.52419787008421},{"from":8,"to":44,"weight":33.86963085714037},{"from":8,"to":45,"weight":60.57005399167977},{"from":8,"to":46,"weight":27.07234518390908},{"from":9,"to":18,"weight":-8.02354187462783},{"from":9,"to":19,"weight":-48.17703974518987},{"from":9,"to":20,"weight":257.35340538558961},{"from":9,"to":21,"weight":-77.95453202424946},{"from":9,"to":22,"weight":239.28503762708397},{"from":9,"to":23,"weight":198.04527816189022},{"from":9,"to":24,"weight":-144.68691165787152},{"from":9,"to":25,"weight":-163.28525608416714},{"from":9,"to":26,"weight":-126.17189477753901},{"from":9,"to":27,"weight":81.22590814662689},{"from":9,"to":28,"weight":-103.78134583777160},{"from":9,"to":29,"weight":51.43278654275757},{"from":9,"to":30,"weight":-24.08569473013576},{"from":9,"to":31,"weight":-115.57242917489239},{"from":9,"to":32,"weight":4.64740479355017},{"from":9,"to":33,"weight":44.43618386037616},{"from":9,"to":34,"weight":-155.90989418494075},{"from":9,"to":35,"weight":159.77090293843108},{"from":9,"to":36,"weight":-104.21861546942209},{"from":9,"to":37,"weight":-131.86312628878764},{"from":9,"to":38,"weight":47.10639759838976},{"from":9,"to":39,"weight":90.82320122102212},{"from":9,"to":40,"weight":-33.59220755942148},{"from":9,"to":41,"weight":-37.88454782615894},{"from":9,"to":42,"weight":-384.12199659743158},{"from":9,"to":43,"weight":-33.09860254335587},{"from":9,"to":44,"weight":-79.98672860225115},{"from":9,"to":45,"weight":-75.44105704796976},{"from":9,"to":46,"weight":136.51741673047630},{"from":10,"to":18,"weight":12.09325902629278},{"from":10,"to":19,"weight":17.89717431800150},{"from":10,"to":20,"weight":-113.48695005359062},{"from":10,"to":21,"weight":-26.44375079298661},{"from":10,"to":22,"weight":-166.14029146545045},{"from":10,"to":23,"weight":116.83394729666887},{"from":10,"to":24,"weight":48.21420985603320},{"from":10,"to":25,"weight":-30.63165282326654},{"from":10,"to":26,"weight":66.81334775099235},{"from":10,"to":27,"weight":82.93472569821071},{"from":10,"to":28,"weight":6.55676986120216},{"from":10,"to":29,"weight":-97.12358595871113},{"from":10,"to":30,"weight":-4.14310383588161},{"from":10,"to":31,"weight":-41.95828031325786},{"from":10,"to":32,"weight":-24.97311334844452},{"from":10,"to":33,"weight":-61.07729081709267},{"from":10,"to":34,"weight":-109.08187667441643},{"from":10,"to":35,"weight":32.72083739087178},{"from":10,"to":36,"weight":46.41423605925917},{"from":10,"to":37,"weight":126.88100796631025},{"from":10,"to":38,"weight":78.78419720041870},{"from":10,"to":39,"weight":65.35830856275733},{"from":10,"to":40,"weight":163.15522823707073},{"from":10,"to":41,"weight":250.89499573286918},{"from":10,"to":42,"weight":122.36276876015415},{"from":10,"to":43,"weight":-470.15339846381249},{"from":10,"to":44,"weight":-42.40037649132101},{"from":10,"to":45,"weight":-58.85478050107412},{"from":10,"to":46,"weight":245.49708029506408},{"from":11,"to":18,"weight":-56.03742436400148},{"from":11,"to":19,"weight":37.73559146299422},{"from":11,"to":20,"weight":46.93441416860772},{"from":11,"to":21,"weight":-301.31545177425738},{"from":11,"to":22,"weight":-48.31188564513410},{"from":11,"to":23,"weight":61.04418468822811},{"from":11,"to":24,"weight":-146.65034640022111},{"from":11,"to":25,"weight":-238.27686876885576},{"from":11,"to":26,"weight":60.25524444252055},{"from":11,"to":27,"weight":97.93917666038416},{"from":11,"to":28,"weight":7.77515127176446},{"from":11,"to":29,"weight":-64.31076316844566},{"from":11,"to":30,"weight":141.79742720745719},{"from":11,"to":31,"weight":16.80654802576596},{"from":11,"to":32,"weight":164.51644507344980},{"from":11,"to":33,"weight":-20.68972765361384},{"from":11,"to":34,"weight":23.79079263178092},{"from":11,"to":35,"weight":-91.57287716787820},{"from":11,"to":36,"weight":-101.84093852267418},{"from":11,"to":37,"weight":-17.25336404751020},{"from":11,"to":38,"weight":-45.10379897756189},{"from":11,"to":39,"weight":-36.95444476423572},{"from":11,"to":40,"weight":92.96307782989749},{"from":11,"to":41,"weight":113.87666047142331},{"from":11,"to":42,"weight":27.35531137946766},{"from":11,"to":43,"weight":-370.89656694817324},{"from":11,"to":44,"weight":-79.89602660465286},{"from":11,"to":45,"weight":-45.24695823440111},{"from":11,"to":46,"weight":-74.65663598829019},{"from":12,"to":18,"weight":229.23148925441853},{"from":12,"to":19,"weight":269.75416823271485},{"from":12,"to":20,"weight":-70.65974424357560},{"from":12,"to":21,"weight":-43.28431409215316},{"from":12,"to":22,"weight":16.50073873635304},{"from":12,"to":23,"weight":60.97523266846278},{"from":12,"to":24,"weight":-59.70666917953125},{"from":12,"to":25,"weight":-101.15486162666967},{"from":12,"to":26,"weight":-272.04460839487939},{"from":12,"to":27,"weight":39.80959459864306},{"from":12,"to":28,"weight":-107.09590180485429},{"from":12,"to":29,"weight":-135.77271451532758},{"from":12,"to":30,"weight":-3.36670060545323},{"from":12,"to":31,"weight":84.10631292530755},{"from":12,"to":32,"weight":-142.83453431237024},{"from":12,"to":33,"weight":-27.93210423157361},{"from":12,"to":34,"weight":-92.26909221666649},{"from":12,"to":35,"weight":-92.72846574174339},{"from":12,"to":36,"weight":-179.57541365576134},{"from":12,"to":37,"weight":27.02342898647582},{"from":12,"to":38,"weight":74.03406381523126},{"from":12,"to":39,"weight":72.83164441960793},{"from":12,"to":40,"weight":26.53640302784075},{"from":12,"to":41,"weight":108.82842965781583},{"from":12,"to":42,"weight":83.28105208090646},{"from":12,"to":43,"weight":244.66043196311421},{"from":12,"to":44,"weight":-369.66554679526536},{"from":12,"to":45,"weight":-11.51799706121357},{"from":12,"to":46,"weight":98.67679192713395},{"from":13,"to":18,"weight":-164.81046310764924},{"from":13,"to":19,"weight":55.37973535932629},{"from":13,"to":20,"weight":-368.72014755128504},{"from":13,"to":21,"weight":77.14162515855712},{"from":13,"to":22,"weight":51.13756014655742},{"from":13,"to":23,"weight":-19.38309425755712},{"from":13,"to":24,"weight":73.79739841818550},{"from":13,"to":25,"weight":149.92036900509999},{"from":13,"to":26,"weight":-134.37596583684666},{"from":13,"to":27,"weight":-68.79399673632719},{"from":13,"to":28,"weight":-108.20938465227539},{"from":13,"to":29,"weight":-16.35641328911774},{"from":13,"to":30,"weight":101.99255575275834},{"from":13,"to":31,"weight":87.40065536562750},{"from":13,"to":32,"weight":-9.24669843298960},{"from":13,"to":33,"weight":10.47197197483354},{"from":13,"to":34,"weight":2.98198589045851},{"from":13,"to":35,"weight":-31.89443167173629},{"from":13,"to":36,"weight":33.61890241326928},{"from":13,"to":37,"weight":256.18907836054427},{"from":13,"to":38,"weight":-2.75784912969740},{"from":13,"to":39,"weight":32.41550173887877},{"from":13,"to":40,"weight":-13.01791494266652},{"from":13,"to":41,"weight":165.26319280623539},{"from":13,"to":42,"weight":-33.09797671792488},{"from":13,"to":43,"weight":4.89059550331221},{"from":13,"to":44,"weight":-550.50166083839076},{"from":13,"to":45,"weight":41.66998532749814},{"from":13,"to":46,"weight":-20.87687733552003},{"from":14,"to":18,"weight":-51.62625412192425},{"from":14,"to":19,"weight":-357.57983816950059},{"from":14,"to":20,"weight":-18.19327128651814},{"from":14,"to":21,"weight":-54.18721635777303},{"from":14,"to":22,"weight":58.08889167071435},{"from":14,"to":23,"weight":-67.73624623716279},{"from":14,"to":24,"weight":-3.55320699379153},{"from":14,"to":25,"weight":-47.01483526492319},{"from":14,"to":26,"weight":-42.14056827807426},{"from":14,"to":27,"weight":-108.77267691263722},{"from":14,"to":28,"weight":48.63400878686128},{"from":14,"to":29,"weight":-180.42585300394211},{"from":14,"to":30,"weight":-139.86921539107860},{"from":14,"to":31,"weight":72.09420211412939},{"from":14,"to":32,"weight":235.36072645231110},{"from":14,"to":33,"weight":42.32177899892888},{"from":14,"to":34,"weight":-133.66373691995437},{"from":14,"to":35,"weight":40.86426825690280},{"from":14,"to":36,"weight":41.60366943143960},{"from":14,"to":37,"weight":-29.25472853723316},{"from":14,"to":38,"weight":54.43618004869337},{"from":14,"to":39,"weight":174.11410112048299},{"from":14,"to":40,"weight":45.75250256858848},{"from":14,"to":41,"weight":68.97886028252617},{"from":14,"to":42,"weight":58.21734356166478},{"from":14,"to":43,"weight":118.62396966842617},{"from":14,"to":44,"weight":51.55699260799986},{"from":14,"to":45,"weight":-270.74594228577166},{"from":14,"to":46,"weight":71.83639361645568},{"from":15,"to":18,"weight":-62.59124684088332},{"from":15,"to":19,"weight":108.88280271202612},{"from":15,"to":20,"weight":-67.66309344147228},{"from":15,"to":21,"weight":-52.56301145763884},{"from":15,"to":22,"weight":-74.11989259510861},{"from":15,"to":23,"weight":-47.99447732576628},{"from":15,"to":24,"weight":-100.94620266531948},{"from":15,"to":25,"weight":48.13652834758261},{"from":15,"to":26,"weight":-11.53457512138146},{"from":15,"to":27,"weight":-75.77183209830660},{"from":15,"to":28,"weight":51.92190919812524},{"from":15,"to":29,"weight":-124.56360359967429},{"from":15,"to":30,"weight":-89.97240656773678},{"from":15,"to":31,"weight":-11.91797668214107},{"from":15,"to":32,"weight":31.67740421558759},{"from":15,"to":33,"weight":166.46796480819086},{"from":15,"to":34,"weight":109.96964643037779},{"from":15,"to":35,"weight":-174.03619150681922},{"from":15,"to":36,"weight":248.58865679809594},{"from":15,"to":37,"weight":-30.22220252711033},{"from":15,"to":38,"weight":-28.33122756030619},{"from":15,"to":39,"weight":143.51336803334266},{"from":15,"to":40,"weight":25.94345116235112},{"from":15,"to":41,"weight":42.76813075386153},{"from":15,"to":42,"weight":14.42868330836865},{"from":15,"to":43,"weight":159.23659895952377},{"from":15,"to":44,"weight":274.26206423598433},{"from":15,"to":45,"weight":-245.32502315691821},{"from":15,"to":46,"weight":136.47144916943918},{"from":16,"to":18,"weight":105.79227263600782},{"from":16,"to":19,"weight":-2.71502112158198},{"from":16,"to":20,"weight":0.45785300947610},{"from":16,"to":21,"weight":-147.77378744476155},{"from":16,"to":22,"weight":318.36973197389898},{"from":16,"to":23,"weight":51.89331763218790},{"from":16,"to":24,"weight":51.09322234851965},{"from":16,"to":25,"weight":-69.83392640632522},{"from":16,"to":26,"weight":-32.72823409380470},{"from":16,"to":27,"weight":-22.45582183859733},{"from":16,"to":28,"weight":30.22531832761525},{"from":16,"to":29,"weight":-217.50086977922172},{"from":16,"to":30,"weight":14.69908558364258},{"from":16,"to":31,"weight":-89.81513734248246},{"from":16,"to":32,"weight":-107.22982618515883},{"from":16,"to":33,"weight":-29.48673611814654},{"from":16,"to":34,"weight":-107.60351245678910},{"from":16,"to":35,"weight":31.96962008629863},{"from":16,"to":36,"weight":-39.49323962807318},{"from":16,"to":37,"weight":163.89177499413069},{"from":16,"to":38,"weight":146.47679692558793},{"from":16,"to":39,"weight":32.00103058124482},{"from":16,"to":40,"weight":28.38684674577767},{"from":16,"to":41,"weight":119.41005718087554},{"from":16,"to":42,"weight":162.74124162579199},{"from":16,"to":43,"weight":133.45522741532312},{"from":16,"to":44,"weight":117.06593931886529},{"from":16,"to":45,"weight":265.02078077846988},{"from":16,"to":46,"weight":-40.69778180492528},{"from":17,"to":18,"weight":-123.83368191935529},{"from":17,"to":19,"weight":-3.84183956146036},{"from":17,"to":20,"weight":-6.79824122151451},{"from":17,"to":21,"weight":8.60926064243459},{"from":17,"to":22,"weight":54.94895235502563},{"from":17,"to":23,"weight":64.10533368612236},{"from":17,"to":24,"weight":8.39836108149049},{"from":17,"to":25,"weight":-109.45285015018300},{"from":17,"to":26,"weight":87.99154272502886},{"from":17,"to":27,"weight":-140.99675770310444},{"from":17,"to":28,"weight":-73.61133419081517},{"from":17,"to":29,"weight":-205.07977021492889},{"from":17,"to":30,"weight":-152.92648712120479},{"from":17,"to":31,"weight":-94.10821501775921},{"from":17,"to":32,"weight":-97.81272059726622},{"from":17,"to":33,"weight":212.13369297308407},{"from":17,"to":34,"weight":115.14951894635107},{"from":17,"to":35,"weight":-150.43503542970623},{"from":17,"to":36,"weight":-93.63230125105336},{"from":17,"to":37,"weight":39.23454110960697},{"from":17,"to":38,"weight":99.43616571499453},{"from":17,"to":39,"weight":-76.51360201537064},{"from":17,"to":40,"weight":58.37285829053953},{"from":17,"to":41,"weight":0.41977334224971},{"from":17,"to":42,"weight":39.17851007904562},{"from":17,"to":43,"weight":130.49996695357768},{"from":17,"to":44,"weight":58.03857315943721},{"from":17,"to":45,"weight":279.51753279253870},{"from":17,"to":46,"weight":15.56782775047559},{"from":18,"to":28,"weight":88.61967377895434},{"from":18,"to":29,"weight":-136.27063771455971},{"from":18,"to":30,"weight":21.13511580665282},{"from":18,"to":31,"weight":278.90776669253432},{"from":18,"to":32,"weight":80.36006207443199},{"from":18,"to":33,"weight":-28.02560172415072},{"from":18,"to":34,"weight":67.41231841754799},{"from":18,"to":35,"weight":169.69492724696869},{"from":18,"to":36,"weight":52.68327552649903},{"from":18,"to":37,"weight":-0.71636166555009},{"from":18,"to":38,"weight":-169.09571364430465},{"from":18,"to":39,"weight":47.57399042961775},{"from":18,"to":40,"weight":-71.74701548740651},{"from":18,"to":41,"weight":-34.95888092111734},{"from":18,"to":42,"weight":-29.35318881017837},{"from":18,"to":43,"weight":78.06133562615290},{"from":18,"to":44,"weight":-84.80859294593060},{"from":18,"to":45,"weight":50.84823360586994},{"from":18,"to":46,"weight":149.75446310577826},{"from":19,"to":28,"weight":-151.20447209525287},{"from":19,"to":29,"weight":-136.91658732643970},{"from":19,"to":30,"weight":-31.30143619702411},{"from":19,"to":31,"weight":68.90882960956890},{"from":19,"to":32,"weight":-78.12755872725842},{"from":19,"to":33,"weight":82.10908091116252},{"from":19,"to":34,"weight":48.65590201443925},{"from":19,"to":35,"weight":-141.78834372775600},{"from":19,"to":36,"weight":-120.53350858252989},{"from":19,"to":37,"weight":72.95696699925684},{"from":19,"to":38,"weight":6.06208514108855},{"from":19,"to":39,"weight":-90.66173323703853},{"from":19,"to":40,"weight":-43.44446882724883},{"from":19,"to":41,"weight":-151.13449096699179},{"from":19,"to":42,"weight":-20.52313281466562},{"from":19,"to":43,"weight":-278.68334788862904},{"from":19,"to":44,"weight":-131.74741863585837},{"from":19,"to":45,"weight":-116.37180455635320},{"from":19,"to":46,"weight":86.06564850590857},{"from":20,"to":28,"weight":-162.21101993614027},{"from":20,"to":29,"weight":63.33140180998608},{"from":20,"to":30,"weight":-99.11722875146047},{"from":20,"to":31,"weight":-27.07845230249737},{"from":20,"to":32,"weight":-241.66578321571870},{"from":20,"to":33,"weight":-30.28086517834652},{"from":20,"to":34,"weight":-162.34675946319362},{"from":20,"to":35,"weight":-146.34160152965404},{"from":20,"to":36,"weight":117.17642513808399},{"from":20,"to":37,"weight":-31.11753257697508},{"from":20,"to":38,"weight":36.39159237830184},{"from":20,"to":39,"weight":-85.33527787466917},{"from":20,"to":40,"weight":-263.88376124114222},{"from":20,"to":41,"weight":-32.99329482907116},{"from":20,"to":42,"weight":-76.18204034464947},{"from":20,"to":43,"weight":-16.58424859009385},{"from":20,"to":44,"weight":116.63797088368717},{"from":20,"to":45,"weight":60.85295822841415},{"from":20,"to":46,"weight":160.26904003898466},{"from":21,"to":28,"weight":2.31239139107390},{"from":21,"to":29,"weight":-111.50345839454910},{"from":21,"to":30,"weight":-13.81199126188991},{"from":21,"to":31,"weight":37.59431755389230},{"from":21,"to":32,"weight":-59.72222261329863},{"from":21,"to":33,"weight":47.26880146143524},{"from":21,"to":34,"weight":37.62488862588039},{"from":21,"to":35,"weight":-126.15429752289019},{"from":21,"to":36,"weight":-18.63920073314224},{"from":21,"to":37,"weight":18.24197792015665},{"from":21,"to":38,"weight":25.10368911064776},{"from":21,"to":39,"weight":-79.19706649534089},{"from":21,"to":40,"weight":-47.96239420797180},{"from":21,"to":41,"weight":-67.98792150425007},{"from":21,"to":42,"weight":111.23005005022853},{"from":21,"to":43,"weight":-1.01499469537419},{"from":21,"to":44,"weight":-36.18339223457978},{"from":21,"to":45,"weight":-42.38746686883165},{"from":21,"to":46,"weight":-68.52495922855277},{"from":22,"to":28,"weight":80.97863370830544},{"from":22,"to":29,"weight":-106.09225953362292},{"from":22,"to":30,"weight":-77.58496090268679},{"from":22,"to":31,"weight":-30.27803406048672},{"from":22,"to":32,"weight":-56.74223823632343},{"from":22,"to":33,"weight":-38.56079902299548},{"from":22,"to":34,"weight":-121.21624356340357},{"from":22,"to":35,"weight":-39.05551783973014},{"from":22,"to":36,"weight":-68.48712981539600},{"from":22,"to":37,"weight":227.37951679352122},{"from":22,"to":38,"weight":120.90234307827036},{"from":22,"to":39,"weight":33.54577692033582},{"from":22,"to":40,"weight":18.70848613888476},{"from":22,"to":41,"weight":-67.85794544917962},{"from":22,"to":42,"weight":-92.92192984926967},{"from":22,"to":43,"weight":101.60112543455580},{"from":22,"to":44,"weight":71.12090644111738},{"from":22,"to":45,"weight":-20.75092499436186},{"from":22,"to":46,"weight":48.19424823826645},{"from":23,"to":28,"weight":-112.18805886750670},{"from":23,"to":29,"weight":3.57881644407446},{"from":23,"to":30,"weight":-121.61111437329038},{"from":23,"to":31,"weight":-30.22066208178305},{"from":23,"to":32,"weight":-209.83048660497093},{"from":23,"to":33,"weight":-22.70668376661456},{"from":23,"to":34,"weight":-122.47567452517940},{"from":23,"to":35,"weight":-62.32275213664418},{"from":23,"to":36,"weight":133.31061855164768},{"from":23,"to":37,"weight":-184.02458088487143},{"from":23,"to":38,"weight":-48.33202190827009},{"from":23,"to":39,"weight":-110.73115883948387},{"from":23,"to":40,"weight":85.47022827513803},{"from":23,"to":41,"weight":102.52600805056571},{"from":23,"to":42,"weight":-141.91972208081199},{"from":23,"to":43,"weight":-2.26364133216701},{"from":23,"to":44,"weight":129.60483530651547},{"from":23,"to":45,"weight":89.53381076162773},{"from":23,"to":46,"weight":24.67458965743884},{"from":24,"to":28,"weight":-15.49822062822916},{"from":24,"to":29,"weight":-25.54180626765097},{"from":24,"to":30,"weight":-67.50477775533787},{"from":24,"to":31,"weight":-169.23535794169402},{"from":24,"to":32,"weight":-54.93543778212197},{"from":24,"to":33,"weight":205.86495048840081},{"from":24,"to":34,"weight":-41.64069787472902},{"from":24,"to":35,"weight":-69.24940500046877},{"from":24,"to":36,"weight":54.43220760928442},{"from":24,"to":37,"weight":-16.73259129986631},{"from":24,"to":38,"weight":24.64390463217029},{"from":24,"to":39,"weight":55.70354623449503},{"from":24,"to":40,"weight":-258.69573525736956},{"from":24,"to":41,"weight":-46.15713328392714},{"from":24,"to":42,"weight":-114.58160780575307},{"from":24,"to":43,"weight":95.15031518728145},{"from":24,"to":44,"weight":-92.06966800258687},{"from":24,"to":45,"weight":91.72514768455039},{"from":24,"to":46,"weight":-26.23342490596241},{"from":25,"to":28,"weight":32.72422474028162},{"from":25,"to":29,"weight":-137.24059193831692},{"from":25,"to":30,"weight":125.95462702456528},{"from":25,"to":31,"weight":-167.44601077038402},{"from":25,"to":32,"weight":66.92066471478185},{"from":25,"to":33,"weight":-5.62677316764479},{"from":25,"to":34,"weight":-7.25944456307345},{"from":25,"to":35,"weight":-225.44610588134276},{"from":25,"to":36,"weight":12.25743401318411},{"from":25,"to":37,"weight":-146.52932348239568},{"from":25,"to":38,"weight":108.61414934358073},{"from":25,"to":39,"weight":-122.83345308829246},{"from":25,"to":40,"weight":-172.53517830572673},{"from":25,"to":41,"weight":16.01469696508323},{"from":25,"to":42,"weight":-37.17344411029406},{"from":25,"to":43,"weight":31.99841533737869},{"from":25,"to":44,"weight":8.10081215050717},{"from":25,"to":45,"weight":-60.79618442197768},{"from":25,"to":46,"weight":-76.30834799747890},{"from":26,"to":28,"weight":-21.14632583570275},{"from":26,"to":29,"weight":9.20917165814716},{"from":26,"to":30,"weight":-60.70445399371417},{"from":26,"to":31,"weight":-9.45001306454920},{"from":26,"to":32,"weight":29.60502754459619},{"from":26,"to":33,"weight":104.72526065993097},{"from":26,"to":34,"weight":70.91416817683609},{"from":26,"to":35,"weight":18.42727752234377},{"from":26,"to":36,"weight":-26.01086646116675},{"from":26,"to":37,"weight":239.90072019067236},{"from":26,"to":38,"weight":-153.15467875152643},{"from":26,"to":39,"weight":116.32496213874815},{"from":26,"to":40,"weight":-6.07101778028381},{"from":26,"to":41,"weight":-93.10298225953116},{"from":26,"to":42,"weight":74.13121065667843},{"from":26,"to":43,"weight":-164.89047442213121},{"from":26,"to":44,"weight":41.75685644874142},{"from":26,"to":45,"weight":121.63193726910021},{"from":26,"to":46,"weight":132.62843345743249},{"from":27,"to":28,"weight":186.38619936867636},{"from":27,"to":29,"weight":42.82747523574246},{"from":27,"to":30,"weight":-65.59121711711504},{"from":27,"to":31,"weight":-206.35743401719239},{"from":27,"to":32,"weight":-73.79698805995706},{"from":27,"to":33,"weight":50.43327536165793},{"from":27,"to":34,"weight":139.31626117387563},{"from":27,"to":35,"weight":-1.10382610046805},{"from":27,"to":36,"weight":79.16999839032215},{"from":27,"to":37,"weight":49.70141829980292},{"from":27,"to":38,"weight":-255.85085151704169},{"from":27,"to":39,"weight":-21.47428765340491},{"from":27,"to":40,"weight":-148.65996943261996},{"from":27,"to":41,"weight":134.98203711129725},{"from":27,"to":42,"weight":-48.13004283228382},{"from":27,"to":43,"weight":66.26627849485753},{"from":27,"to":44,"weight":-104.98172738799188},{"from":27,"to":45,"weight":162.98763705190703},{"from":27,"to":46,"weight":-69.03952995996554},{"from":28,"to":38,"weight":5.20503587811321},{"from":28,"to":39,"weight":-135.79811110707627},{"from":28,"to":40,"weight":-4.32549458566997},{"from":28,"to":41,"weight":-17.11112166810580},{"from":28,"to":42,"weight":105.70728505474887},{"from":28,"to":43,"weight":87.85264433949301},{"from":28,"to":44,"weight":-25.23409379886693},{"from":28,"to":45,"weight":-30.89162542124101},{"from":28,"to":46,"weight":-10.99330234872971},{"from":29,"to":38,"weight":-31.96092087215098},{"from":29,"to":39,"weight":-45.23330236604645},{"from":29,"to":40,"weight":-50.71361029804712},{"from":29,"to":41,"weight":-65.73895102134037},{"from":29,"to":42,"weight":34.67281064300369},{"from":29,"to":43,"weight":-31.47282227551846},{"from":29,"to":44,"weight":-22.48884156184743},{"from":29,"to":45,"weight":-66.21648826667901},{"from":29,"to":46,"weight":39.65531242803896},{"from":30,"to":38,"weight":155.24360501459506},{"from":30,"to":39,"weight":-194.68671624001794},{"from":30,"to":40,"weight":13.86464074066723},{"from":30,"to":41,"weight":-125.80365074443905},{"from":30,"to":42,"weight":7.14245710191691},{"from":30,"to":43,"weight":-71.71815974416478},{"from":30,"to":44,"weight":-100.09406685448153},{"from":30,"to":45,"weight":-27.28402913891065},{"from":30,"to":46,"weight":42.50757904448905},{"from":31,"to":38,"weight":-33.30936380664355},{"from":31,"to":39,"weight":7.08800237251414},{"from":31,"to":40,"weight":-21.84676357923095},{"from":31,"to":41,"weight":-29.91845600974603},{"from":31,"to":42,"weight":-56.36611272821001},{"from":31,"to":43,"weight":18.58272692967196},{"from":31,"to":44,"weight":-142.36142783164701},{"from":31,"to":45,"weight":-5.37108786533508},{"from":31,"to":46,"weight":-55.74368635568005},{"from":32,"to":38,"weight":31.16905941848938},{"from":32,"to":39,"weight":58.97476883184966},{"from":32,"to":40,"weight":31.67993085001413},{"from":32,"to":41,"weight":-12.57334285550008},{"from":32,"to":42,"weight":-137.33503426578267},{"from":32,"to":43,"weight":41.13618622712025},{"from":32,"to":44,"weight":65.69913959951023},{"from":32,"to":45,"weight":-222.24708897256272},{"from":32,"to":46,"weight":41.36011464787943},{"from":33,"to":38,"weight":-85.10065886655058},{"from":33,"to":39,"weight":47.60754096397724},{"from":33,"to":40,"weight":-10.55387788127920},{"from":33,"to":41,"weight":73.96055261438144},{"from":33,"to":42,"weight":-21.28719931206220},{"from":33,"to":43,"weight":17.74916956468309},{"from":33,"to":44,"weight":42.04570681315563},{"from":33,"to":45,"weight":101.76357041781299},{"from":33,"to":46,"weight":130.60201138116773},{"from":34,"to":38,"weight":-146.18363233783873},{"from":34,"to":39,"weight":-269.64209291016130},{"from":34,"to":40,"weight":-38.36465122058577},{"from":34,"to":41,"weight":-173.40690409068617},{"from":34,"to":42,"weight":73.15058310215241},{"from":34,"to":43,"weight":99.60981702752167},{"from":34,"to":44,"weight":-83.85378513265773},{"from":34,"to":45,"weight":28.12353578545667},{"from":34,"to":46,"weight":17.82673786714193},{"from":35,"to":38,"weight":-39.65934760835047},{"from":35,"to":39,"weight":-179.72320487632331},{"from":35,"to":40,"weight":4.45166268353051},{"from":35,"to":41,"weight":-72.68534573086387},{"from":35,"to":42,"weight":-37.38949426340777},{"from":35,"to":43,"weight":-13.36523230744969},{"from":35,"to":44,"weight":-15.67134088370436},{"from":35,"to":45,"weight":23.39067267962350},{"from":35,"to":46,"weight":91.21970410274892},{"from":36,"to":38,"weight":89.72323003394720},{"from":36,"to":39,"weight":-45.27763938685540},{"from":36,"to":40,"weight":-40.62170373646744},{"from":36,"to":41,"weight":95.46005342058268},{"from":36,"to":42,"weight":-137.96722821167975},{"from":36,"to":43,"weight":-111.48500857222319},{"from":36,"to":44,"weight":158.77186187048846},{"from":36,"to":45,"weight":-80.23653533408854},{"from":36,"to":46,"weight":199.53325471233239},{"from":37,"to":38,"weight":-18.04780720960437},{"from":37,"to":39,"weight":-107.19426438219861},{"from":37,"to":40,"weight":-22.51112864125160},{"from":37,"to":41,"weight":-69.33084285540647},{"from":37,"to":42,"weight":36.76350585532005},{"from":37,"to":43,"weight":21.31974392906272},{"from":37,"to":44,"weight":-12.57012153338062},{"from":37,"to":45,"weight":-11.74452896628934},{"from":37,"to":46,"weight":-61.19155602263279}]}';
    neuralNetwork = Network.fromJSON(JSON.parse(json));
    neuralNetwork.optimized = false;
    //var perceptron = new Architect.Perceptron(2, 3, 1);
    

    c = document.getElementById("canvas");
    ctx = c.getContext("2d");

    width = c.width;
    height = c.height;
    $("#canvas").bind("click", canvasClick);

    startNewGame();
    refreshScoreDisplay();
});

var canvasClick = function (e) {
    if (gameRunning) {
        if (currentPlayer == 1) {
            var offset = $("#canvas").offset();
            var x = parseInt((e.pageX - offset.left) / (width / 3))
            var y = parseInt((e.pageY - offset.top) / (height / 3));
            if (x < 3 && y < 3)
                setField(x, y);
        }
    } else {
        startNewGame();
    }
}

var setField = function(x, y)
{
    if (fields[x][y] === 0) {
        fields[x][y] = currentPlayer;
        currentPlayer *= -1;
        redraw();
        if (whoHasWon() != 0 || getFreeFields() == 0) {
            stopGame();
        } else {
            setStatusForCurrentPlayer();
            if (currentPlayer == -1)
                setTimeout(executeAI, aiDelay);
        }
    } else {
        invalidMove = true;
        stopGame();
    }
}

var getFreeFields = function() {
    var freeFields = 0;
    for (var x = 0; x < fields.length; x++)
    {
        for (var y = 0; y < fields.length; y++)
        {
            if (fields[x][y] === 0)
                freeFields++;
        }
    }
    return freeFields;
}

var executeAI = function () {
    var input = [];
    var inputIndex = 0;
    for (var x = 0; x < fields.length; x++)
    {
        for (var y = 0; y < fields.length; y++)
        {
            var fieldValue = currentPlayer * fields[x][y];
            if (fieldValue == 1)
                input[inputIndex++] = 1;
            else
                input[inputIndex++] = 0;
            if (fieldValue == -1)
                input[inputIndex++] = 1;
            else
                input[inputIndex++] = 0;
        }
    }
    var output = neuralNetwork.activate(input);
    for (var i = 0; i < output.length; i++) {
        if (output[i] > 0.5)
        {
            var x = parseInt(i / 3);
            var y = parseInt(i % 3);
            setField(x, y);
            return;
        }
    }
    invalidMove = true;
    stopGame();
}

var setStatusForCurrentPlayer = function() {
    if (currentPlayer === 1)
        setStatus("Its your turn");
    else
        setStatus("Its AI turn");
}

var whoHasWon = function () {
    if (fields[0][0] != 0 && fields[0][0] == fields[0][1] && fields[0][1] == fields[0][2])
        return fields[0][0];
    else if (fields[1][0] != 0 && fields[1][0] == fields[1][1] && fields[1][1] == fields[1][2])
        return fields[1][0];
    else if (fields[2][0] != 0 && fields[2][0] == fields[2][1] && fields[2][1] == fields[2][2])
        return fields[2][0];

    else if (fields[0][0] != 0 && fields[0][0] == fields[1][0] && fields[1][0] == fields[2][0])
        return fields[0][0];
    else if (fields[0][1] != 0 && fields[0][1] == fields[1][1] && fields[1][1] == fields[2][1])
        return fields[0][1];
    else if (fields[0][2] != 0 && fields[0][2] == fields[1][2] && fields[1][2] == fields[2][2])
        return fields[0][2];

    else if (fields[0][0] != 0 && fields[0][0] == fields[1][1] && fields[1][1] == fields[2][2])
        return fields[0][0];
    else if (fields[2][0] != 0 && fields[2][0] == fields[1][1] && fields[1][1] == fields[0][2])
        return fields[2][0];
    else
        return 0;
}

var stopGame = function () {
    gameRunning = false;
    if (invalidMove)
    {
        if (currentPlayer == 1) {
            setStatus("Human player made invalid move => AI won");
            aiScore++;
        }
        else {
            setStatus("AI player made invalid move => Human won");
            humanScore++;
        }
    }
    else if (whoHasWon() == 1)
    {
        setStatus("Human won");
        humanScore++;
    }
    else if (whoHasWon() == -1) {
        setStatus("AI won");
        aiScore++;
    }
    else
    {
        setStatus("Tie!");
    }
    refreshScoreDisplay();
}

var refreshScoreDisplay = function() {
    $("#score").html("You " + humanScore + " - " + aiScore + " AI");
}

var setStatus = function (status) {
    $("#status").html(status);
}

var startNewGame = function () {
    fields = [[0, 0, 0], [0, 0, 0], [0, 0, 0]];
    lastBeginner *= -1;
    currentPlayer = lastBeginner;
    setStatusForCurrentPlayer();
    gameRunning = true;
    invalidMove = false;
    redraw();
    if (currentPlayer == -1)
        setTimeout(executeAI, aiDelay);
}

var redraw = function () {
    ctx.clearRect(0, 0, width, height);
    drawGrid();
    drawFields();
}

var drawGrid = function () {
    ctx.beginPath();
    ctx.moveTo(width / 3, 0);
    ctx.lineTo(width / 3, height);
    ctx.closePath();
    ctx.stroke();

    ctx.beginPath();
    ctx.moveTo(width / 3 * 2, 0);
    ctx.lineTo(width / 3 * 2, height);
    ctx.closePath();
    ctx.stroke();

    ctx.beginPath();
    ctx.moveTo(0, height / 3);
    ctx.lineTo(width, height / 3);
    ctx.closePath();
    ctx.stroke();

    ctx.beginPath();
    ctx.moveTo(0, height / 3 * 2);
    ctx.lineTo(width, height / 3 * 2);
    ctx.closePath();
    ctx.stroke();
}

var drawFields = function () {
    for (var x = 0; x < fields.length; x++)
    {
        for (var y = 0; y < fields.length; y++) {
            drawField(x, y);
        }
    }
}


var drawField = function (x, y) {
    if (fields[x][y] === 1)
        drawX(x, y);
    else if (fields[x][y] === -1)
        drawO(x, y);
}

var drawX = function (x, y) {
    ctx.beginPath();
    ctx.moveTo(width / 3 * x, height / 3 * y);
    ctx.lineTo(width / 3 * (x + 1), height / 3 * (y + 1));
    ctx.closePath();
    ctx.stroke();

    ctx.beginPath();
    ctx.moveTo(width / 3 * (x + 1), height / 3 * y);
    ctx.lineTo(width / 3 * x, height / 3 * (y + 1));
    ctx.closePath();
    ctx.stroke();
}

var drawO = function (x, y) {
    ctx.beginPath();
    ctx.arc(width / 3 * (x + 0.5), height / 3 * (y + 0.5), height / 6, 0, 2 * Math.PI);
    ctx.closePath();
    ctx.stroke();
}
